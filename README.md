# ä»¿Bç«™è¯„è®ºç³»ç»Ÿ

æœ¬ä»“åº“æ˜¯æˆ‘çš„æ–‡ç« -ã€Šè·Ÿç€å¤§å‚å­¦æ¶æ„01ï¼šå¦‚ä½•åˆ©ç”¨å¼€æºæ–¹æ¡ˆï¼Œå¤åˆ»Bç«™é‚£å¥—â€œæ°¸ä¸å´©æºƒâ€çš„è¯„è®ºç³»ç»Ÿï¼Ÿã€‹çš„ä»£ç å®ç°ã€‚
æ–‡ç« é“¾æ¥ï¼šhttps://juejin.cn/post/7515695400671674419

## ğŸš€ é¡¹ç›®ç‰¹è‰²

- **åˆ†å¸ƒå¼æ¶æ„**: åŸºäºTiDB + Redis + Kafkaçš„åˆ†å¸ƒå¼æ¶æ„è®¾è®¡
- **é«˜å¹¶å‘å¤„ç†**: ä½¿ç”¨ä¹è§‚é”å¤„ç†ç‚¹èµå¹¶å‘é—®é¢˜
- **å®æ—¶æ•°æ®åŒæ­¥**: é€šè¿‡TiCDC + Kafkaå®ç°æ•°æ®å˜æ›´å®æ—¶åŒæ­¥
- **ç¼“å­˜ä¼˜åŒ–**: Redisç¼“å­˜çƒ­é—¨è¯„è®ºï¼Œæå‡æŸ¥è¯¢æ€§èƒ½
- **å®šæ—¶ä»»åŠ¡**: XXL-Jobå®šæ—¶åŒæ­¥çƒ­é—¨è¯„è®ºæ•°æ®

## ğŸ“‹ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Spring Boot   â”‚    â”‚      TiDB       â”‚    â”‚      Redis      â”‚
â”‚   Application   â”‚â—„â”€â”€â–ºâ”‚    Cluster      â”‚    â”‚     Cache       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â–²
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚     Kafka       â”‚â—„â”€â”€â”€â”‚     TiCDC       â”‚              â”‚
â”‚   Message       â”‚    â”‚  Change Data    â”‚              â”‚
â”‚    Queue        â”‚    â”‚    Capture      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    XXL-Job      â”‚
â”‚   Scheduler     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Java 17+
- Maven 3.6+
- Docker & Docker Compose

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd copy-bilibili-reviews-system
```

### 2. å¯åŠ¨åŸºç¡€æœåŠ¡
```bash
# å¯åŠ¨TiDBé›†ç¾¤ã€Kafkaã€Redisç­‰æœåŠ¡
docker-compose up -d
```

### 3. ç­‰å¾…æœåŠ¡å¯åŠ¨
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
docker-compose ps

# ç­‰å¾…æ‰€æœ‰æœåŠ¡å¥åº·åç»§ç»­
```

### 4. å¯åŠ¨åº”ç”¨
```bash
# ç¼–è¯‘å¹¶å¯åŠ¨Spring Bootåº”ç”¨
mvn clean spring-boot:run
```


## ğŸ—‚ é¡¹ç›®ç»“æ„

```
src/main/java/com/cc/
â”œâ”€â”€ CopyBilibiliReviewsSystemApplication.java  # å¯åŠ¨ç±»
â”œâ”€â”€ config/                                    # é…ç½®ç±»
â”‚   â”œâ”€â”€ RedisConfig.java                      # Redisé…ç½®
â”‚   â””â”€â”€ XxlJobConfig.java                     # XXL-Jobé…ç½®
â”œâ”€â”€ controller/                               # æ§åˆ¶å™¨
â”‚   â””â”€â”€ CommentController.java                # è¯„è®ºAPI
â”œâ”€â”€ dto/                                      # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â””â”€â”€ CreateCommentRequest.java             # åˆ›å»ºè¯„è®ºè¯·æ±‚
â”œâ”€â”€ entity/                                   # å®ä½“ç±»
â”‚   â””â”€â”€ Comment.java                          # è¯„è®ºå®ä½“
â”œâ”€â”€ repository/                               # æ•°æ®è®¿é—®å±‚
â”‚   â””â”€â”€ CommentRepository.java                # è¯„è®ºä»“åº“
â”œâ”€â”€ service/                                  # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ CommentService.java                   # è¯„è®ºæœåŠ¡
â”‚   â””â”€â”€ CommentSyncService.java               # åŒæ­¥æœåŠ¡
â”œâ”€â”€ consumer/                                 # æ¶ˆæ¯æ¶ˆè´¹è€…
â”‚   â””â”€â”€ CommentSyncConsumer.java              # è¯„è®ºåŒæ­¥æ¶ˆè´¹è€…
â””â”€â”€ jobhandler/                               # ä»»åŠ¡å¤„ç†å™¨
    â””â”€â”€ CommentSyncXxlJobHandler.java         # åŒæ­¥ä»»åŠ¡å¤„ç†å™¨
```

---
â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼